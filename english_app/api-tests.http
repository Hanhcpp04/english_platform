### ============================================
### API TESTING FOR ENGLISH APP
### Base URL: http://localhost:8088/api/v1
### ============================================

@baseUrl = http://localhost:8088/api/v1
@accessToken = your_access_token_here
@refreshToken = your_refresh_token_here
@userId = 1
@email = test@example.com
@password = password123

### ============================================
### 1. AUTH CONTROLLER - Authentication APIs
### ============================================

### 1.1 Register new user
POST {{baseUrl}}/auth/register
Content-Type: application/json

{
  "email": "newuser@example.com",
  "password": "password123",
  "username": "newuser",
  "fullname": "New User"
}

### 1.2 Login
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
  "email": "{{email}}",
  "password": "{{password}}"
}

### 1.3 Refresh Token
POST {{baseUrl}}/auth/refresh
Content-Type: application/json

{
  "refreshToken": "{{refreshToken}}"
}

### 1.4 Logout
POST {{baseUrl}}/auth/logout
Content-Type: application/json

{
  "refreshToken": "{{refreshToken}}"
}

### 1.5 Get Current User Info
GET {{baseUrl}}/auth/me
Authorization: Bearer {{accessToken}}

### ============================================
### 2. BADGE CONTROLLER - Badge Management APIs
### ============================================

### 2.1 Get User Badges Summary
GET {{baseUrl}}/badge/summary/{{userId}}?limit=5
Authorization: Bearer {{accessToken}}

### 2.2 Get All User Badges (earned and not earned)
GET {{baseUrl}}/badge/all/{{userId}}
Authorization: Bearer {{accessToken}}

### 2.3 Get Recent Badges
GET {{baseUrl}}/badge/recent/{{userId}}?limit=5
Authorization: Bearer {{accessToken}}

### 2.4 Get Badge Progress (for logged in user)
GET {{baseUrl}}/badge/progress
Authorization: Bearer {{accessToken}}

### 2.5 Get Badge Progress By Type
GET {{baseUrl}}/badge/progress/vocabulary
Authorization: Bearer {{accessToken}}

### 2.6 Get Earned Badges
GET {{baseUrl}}/badge/earned
Authorization: Bearer {{accessToken}}

### 2.7 Force Check All Badges
POST {{baseUrl}}/badge/check
Authorization: Bearer {{accessToken}}

### ============================================
### 3. LEVEL CONTROLLER - Level APIs
### ============================================

### 3.1 Get All Levels
GET {{baseUrl}}/level/getAll

### ============================================
### 4. VOCAB CONTROLLER - Vocabulary APIs
### ============================================

### 4.1 Get Words by Topic with Progress
GET {{baseUrl}}/vocab/topic/1/words?userId={{userId}}
Authorization: Bearer {{accessToken}}

### 4.2 Complete Word (Mark as completed)
POST {{baseUrl}}/vocab/complete?userId={{userId}}
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "wordId": 1,
  "topicId": 1
}

### ============================================
### 5. VOCAB STATS CONTROLLER - Vocabulary Statistics
### ============================================

### 5.1 Get User Vocab Stats
GET {{baseUrl}}/vocab/stats/{{userId}}
Authorization: Bearer {{accessToken}}

### 5.2 Get All Vocab Topics
GET {{baseUrl}}/vocab/topics
Authorization: Bearer {{accessToken}}

### 5.3 Get Topic by ID
GET {{baseUrl}}/vocab/topics/1
Authorization: Bearer {{accessToken}}

### 5.4 Get All Topics with User Progress
GET {{baseUrl}}/vocab/topics/progress/{{userId}}
Authorization: Bearer {{accessToken}}

### ============================================
### 6. VOCAB EXERCISE CONTROLLER - Vocabulary Exercises
### ============================================

### 6.1 Get Exercise Types by Topic
GET {{baseUrl}}/vocab/exercise/topics/1/exercise-types?userId={{userId}}
Authorization: Bearer {{accessToken}}

### 6.2 Get Questions by Exercise Type and Topic
GET {{baseUrl}}/vocab/exercise/exercise-types/1/topics/1/questions?userId={{userId}}
Authorization: Bearer {{accessToken}}

### 6.3 Submit Answer for Question
POST {{baseUrl}}/vocab/exercise/questions/1/submit
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "userId": {{userId}},
  "userAnswer": "answer",
  "topicId": 1,
  "typeId": 1
}

### 6.4 Get Answer History
GET {{baseUrl}}/vocab/exercise/history?userId={{userId}}&topicId=1&typeId=1
Authorization: Bearer {{accessToken}}

### 6.5 Reset Exercise Answers
DELETE {{baseUrl}}/vocab/exercise/reset?userId={{userId}}&topicId=1&typeId=1
Authorization: Bearer {{accessToken}}

### 6.6 Get Exercise Accuracy Stats
GET {{baseUrl}}/vocab/exercise/accuracy?userId={{userId}}&topicId=1&typeId=1
Authorization: Bearer {{accessToken}}

### ============================================
### 7. GRAMMAR LESSON CONTROLLER - Grammar Lessons
### ============================================

### 7.1 Get Lessons by Topic with Progress
GET {{baseUrl}}/grammar/topics/1/lessons?user_id={{userId}}
Authorization: Bearer {{accessToken}}

### 7.2 Complete Lesson
POST {{baseUrl}}/grammar/lessons/complete
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "userId": {{userId}},
  "topicId": 1,
  "lessonId": 1,
  "type": "lesson"
}

### ============================================
### 8. GRAMMAR STATS CONTROLLER - Grammar Statistics
### ============================================

### 8.1 Get User Grammar Stats
GET {{baseUrl}}/grammar/stats/{{userId}}
Authorization: Bearer {{accessToken}}

### 8.2 Get All Grammar Topics with Progress
GET {{baseUrl}}/grammar/topics/progress/{{userId}}
Authorization: Bearer {{accessToken}}

### 8.3 Get Topic Progress by ID
GET {{baseUrl}}/grammar/topics/1/progress/{{userId}}
Authorization: Bearer {{accessToken}}

### ============================================
### 9. GRAMMAR EXERCISE CONTROLLER - Grammar Exercises
### ============================================

### 9.1 Get Exercise Types
GET {{baseUrl}}/grammar/exercises/types?topic_id=1&lesson_id=1
Authorization: Bearer {{accessToken}}

### 9.2 Get Exercise Questions
GET {{baseUrl}}/grammar/exercises/questions?topic_id=1&lesson_id=1&type_id=1
Authorization: Bearer {{accessToken}}

### 9.3 Submit Answer
POST {{baseUrl}}/grammar/exercises/submit
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "userId": {{userId}},
  "questionId": 101,
  "typeId": 1,
  "userAnswer": "goes"
}

### 9.4 Get Answer History
GET {{baseUrl}}/grammar/exercises/history?user_id={{userId}}&topic_id=1&lesson_id=1&type_id=1
Authorization: Bearer {{accessToken}}

### ============================================
### 10. WRITING CONTROLLER - Writing Tasks
### ============================================

### 10.1 Get All Writing Topics
GET {{baseUrl}}/writing/topics
Authorization: Bearer {{accessToken}}

### 10.2 Get Tasks by Topic
GET {{baseUrl}}/writing/topics/1/tasks
Authorization: Bearer {{accessToken}}

### 10.3 Get Prompts by Task
GET {{baseUrl}}/writing/tasks/1/prompts?userId={{userId}}
Authorization: Bearer {{accessToken}}

### ============================================
### NOTES:
### ============================================
### 1. Replace {{accessToken}} with actual JWT token from login response
### 2. Replace {{refreshToken}} with actual refresh token from login response
### 3. Replace {{userId}} with actual user ID
### 4. Replace {{email}} and {{password}} with valid credentials
### 5. Some endpoints require authentication, use Bearer token in Authorization header
### 6. Adjust IDs (topicId, lessonId, questionId, etc.) based on your database
### ============================================
